/*
 * dcxt
 * Description: my company create dinner project
 * Author: liumm
 * Version: 1.0.0
 * Last Update : 2016-03-25 11:54:09
 */
$(function(){window.Messager=function(){var a=new RegExp("\\[([^\\[\\]]*?)\\]","igm"),b=$(['<div id="messager-dialogue" class="modal fade">','<div class="modal-dialog modal-sm">','<div class="modal-content">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>','<span class="sr-only">Close</span>',"</button>",'<h5 class="modal-title">','<i class="fa fa-exclamation-circle"></i> [Title]',"</h5>","</div>",'<div class="modal-body small">','<div class="row">','<div class="col-xs-2">[MessagerIcon]</div>','<div class="col-xs-10 messageText">[Message]</div>',"</div>","</div>",'<div class="modal-footer" >','<button type="button" class="btn btn-primary ok" data-dismiss="modal">[BtnOk]</button>','<button type="button" class="btn btn-default cancel" data-dismiss="modal">[BtnCancel]</button>',"</div>","</div>","</div>","</div>"].join("")),c=b.html(),d=function(a){return b.html(c),b.find(".ok").removeClass("btn-success").addClass("btn-primary"),b.find(".cancel").hide(),g(a),{on:function(a){a&&a instanceof Function&&b.find(".ok").click(function(b){b.preventDefault(),a(!0)})}}},e=function(a){return b.html(c),b.find(".cancel").show(),g(a),{on:function(a){a&&a instanceof Function&&(b.find(".ok").click(function(b){b.preventDefault(),a(!0)}),b.find(".cancel").click(function(b){b.preventDefault(),a(!1)}))}}},f=function(a){return b.html(c),b.find(".ok").removeClass("btn-success").addClass("btn-primary"),b.find(".cancel").hide(),g(a),a.isHideDate?setTimeout(function(){$("#messager-dialogue").modal("hide")},a.isHideDate):setTimeout(function(){$("#messager-dialogue").modal("hide")},3e3),{on:function(a){a&&a instanceof Function&&b.find(".ok").click(function(){a(!0)})}}},g=function(c){var d={Msg:"",iconImg:"info",title:"提示",isModal:!1,btnOk:"确定",btnCancel:"取消",isHideDate:3e3};$.extend(d,c);var e=b.html().replace(a,function(a,b){return{Title:d.title,Message:d.Msg,BtnOk:d.btnOk,BtnCancel:d.btnCancel,MessagerIcon:'<img class="messagerIcon" src="images/'+d.iconImg+'.png">'}[b]});b.html(e),b.modal({width:600,backdrop:"static"}),$("body").css("padding",0),d.isModal||$("body > div.modal-backdrop:last").css("display","none")};return{alert:d,confirm:e,show:f}}()});